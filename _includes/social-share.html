{% include base_path %}

<section class="page__share">
  {% if site.data.ui-text[site.locale].share_on_label %}
    <h4 class="page__share-title">{{ site.data.ui-text[site.locale].share_on_label | default: "Share on" }}</h4>
  {% endif %}

  <!-- LinkedIn -->
  <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ base_path }}{{ page.url }}" class="btn btn--linkedin" title="{{ site.data.ui-text[site.locale].share_on_label | default: 'Share on' }} LinkedIn">
    <i class="fab fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

  <!-- X / Twitter -->
  <a href="https://x.com/intent/post?text={{ base_path }}{{ page.url }}" class="btn btn--x" title="{{ site.data.ui-text[site.locale].share_on_label | default: 'Share on' }} X">
    <i class="fab fa-x-twitter" aria-hidden="true"></i><span> (formerly Twitter)</span>
  </a>

  <!-- Copiar al portapapeles -->
  <button class="btn btn--clipboard" id="copyBtn" title="Copy link to clipboard">
    <i class="fas fa-clipboard" aria-hidden="true"></i><span> Copy Link</span>
  </button>
</section>

<script>
const copyBtn = document.getElementById('copyBtn');

function copyLink() {
  navigator.clipboard.writeText(window.location.href)
    .then(() => {
      // Animación: cambiar texto e icono temporalmente
      const originalHTML = copyBtn.innerHTML;
      copyBtn.innerHTML = '<i class="fas fa-check" aria-hidden="true"></i><span> Copied!</span>';
      copyBtn.classList.add('copied'); // para posibles animaciones CSS

      setTimeout(() => {
        copyBtn.innerHTML = originalHTML;
        copyBtn.classList.remove('copied');
      }, 1500); // 1.5 segundos
    })
    .catch(err => {
      console.error('Failed to copy link: ', err);
    });
}
</script>

<style>
/* Animación simple de transición */
.btn--clipboard {
  transition: background-color 0.3s, color 0.3s, transform 0.2s;
}

.btn--clipboard.copied {
  background-color: #4caf50;
  color: white;
  transform: scale(1.1);
}
</style>
